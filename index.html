<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UpBuild Documentation</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“„</text></svg>">
</head>
<body class="bg-gray-100 text-gray-900">
  <header class="w-full bg-white shadow-md sticky top-0 z-50 flex items-center justify-between px-6 py-4">
    <h1 class="text-xl font-bold">UpBuild Documentation</h1>
  </header>

  <div class="flex min-h-screen">
    <aside class="w-64 bg-white shadow-md p-6 fixed h-full overflow-y-auto">
      <h2 class="text-lg font-semibold mb-6">Navigation</h2>
      <nav class="flex flex-col gap-4">
        <a href="#overview" class="text-gray-600 hover:text-gray-900">Overview</a>
        <a href="#users" class="text-gray-600 hover:text-gray-900">Users Collection</a>
        <a href="#apartments" class="text-gray-600 hover:text-gray-900">Apartments Collection</a>
        <a href="#visitors" class="text-gray-600 hover:text-gray-900">Visitors Collection</a>
        <a href="#maintenance" class="text-gray-600 hover:text-gray-900">Maintenance Collection</a>
        <a href="#facilities" class="text-gray-600 hover:text-gray-900">Facilities Staff Collection</a>
        <a href="#complaints" class="text-gray-600 hover:text-gray-900">Complaints Collection</a>
        <a href="#userflow" class="text-gray-600 hover:text-gray-900">User Flow Story</a>
      </nav>
    </aside>

    <main class="ml-64 p-10 flex-1 space-y-16">
      <section id="overview">
        <h2 class="text-3xl font-bold mb-4">Overview</h2>
        <p class="text-gray-700">UpBuild is a SaaS platform for managing apartment operations, including visitors, maintenance, staff, and complaints, ensuring smooth operations between Admins, Staff, and Tenants.</p>
      </section>

      <section id="users">
        <h2 class="text-2xl font-semibold mb-4">Users Collection</h2>
        <pre class="bg-white p-6 rounded-lg shadow overflow-x-auto"><code>{
  _id: ObjectId,
  globalRole: "owner" | "platformAdmin" | "tenantUser",
  tenantId: ObjectId | null,
  tenantRole: "admin" | "staff" | "receptionist" | "guard" | "technician" | "resident" | null,
  name: String,
  email: String,
  phone: String,
  passwordHash: String,
  permissions: [String],
  isActive: Boolean,
  createdAt: Date,
  updatedAt: Date
}</code></pre>
      </section>

      <section id="apartments">
        <h2 class="text-2xl font-semibold mb-4">Apartments Collection</h2>
        <pre class="bg-white p-6 rounded-lg shadow overflow-x-auto"><code>{
  _id: ObjectId,
  tenantId: ObjectId,
  name: String,
  address: String,
  numberOfUnits: Number,
  apartments: [
    {
      unitNumber: String,
      owner: { name, phone, email },
      isTenanted: Boolean,
      tenant: { name, phone, email, leaseStartDate, leaseEndDate, agreementFileUrl },
      livingMembers: [ { name, phone, email, relation } ]
    }
  ],
  createdAt: Date,
  updatedAt: Date
}</code></pre>
      </section>

      <section id="visitors">
        <h2 class="text-2xl font-semibold mb-4">Visitors Collection</h2>
        <pre class="bg-white p-6 rounded-lg shadow overflow-x-auto"><code>{
  _id: ObjectId,
  tenantId: ObjectId,
  visitorName: String,
  visitorPhone: String,
  visitorEmail: String,
  visitPurpose: String,
  hostId: ObjectId,
  apartmentUnit: String,
  preRegistered: Boolean,
  checkInTime: Date,
  checkOutTime: Date,
  badgeUrl: String,
  isCheckedOut: Boolean,
  createdAt: Date,
  updatedAt: Date
}</code></pre>
      </section>

      <section id="maintenance">
        <h2 class="text-2xl font-semibold mb-4">Maintenance Collection</h2>
        <pre class="bg-white p-6 rounded-lg shadow overflow-x-auto"><code>{
  _id: ObjectId,
  tenantId: ObjectId,
  ticketId: String,
  raisedBy: ObjectId,
  apartmentUnit: String,
  description: String,
  category: String,
  priority: String,
  images: [String],
  assignedTo: ObjectId,
  status: String,
  cost: Number,
  scheduledDate: Date,
  maintenanceDate: Date,
  maintenanceHistory: [ { updateDate, updateDescription, status } ],
  paymentStatus: String,
  createdAt: Date,
  updatedAt: Date
}</code></pre>
      </section>

      <section id="facilities">
        <h2 class="text-2xl font-semibold mb-4">Facilities Staff Collection</h2>
        <pre class="bg-white p-6 rounded-lg shadow overflow-x-auto"><code>{
  _id: ObjectId,
  tenantId: ObjectId,
  staffId: ObjectId,
  schedule: [ { date, assignedTasks: [ { taskId, location, priority, status, feedbackGiven } ] } ],
  attendance: [ { date, clockInTime, clockOutTime, totalHoursWorked } ],
  performanceRating: [ { date, rating, feedback } ],
  createdAt: Date,
  updatedAt: Date
}</code></pre>
      </section>

      <section id="complaints">
        <h2 class="text-2xl font-semibold mb-4">Complaints Collection</h2>
        <pre class="bg-white p-6 rounded-lg shadow overflow-x-auto"><code>{
  _id: ObjectId,
  tenantId: ObjectId,
  complaintId: String,
  raisedBy: ObjectId,
  apartmentUnit: String,
  description: String,
  attachments: [String],
  assignedTo: ObjectId,
  department: String,
  status: String,
  escalated: Boolean,
  escalationHistory: [ { escalatedOn, reason } ],
  resolution: { resolvedOn, resolvedBy, resolutionDetails },
  feedback: { rating, comment },
  createdAt: Date,
  updatedAt: Date
}</code></pre>
      </section>

      <section id="userflow">
        <h2 class="text-2xl font-semibold mb-4">User Flow Story</h2>
        <p class="text-gray-700 bg-white p-6 rounded-lg shadow">
          - Super Admin securely logs in, creates apartments, defines settings.<br>
          - Assigns Apartment Admins who configure units, assign tenants.<br>
          - Admins add Receptionists, Guards, Technicians.<br>
          - Staff manage visitors, complaints, maintenance.<br>
          - Tenants interact via app to register visitors, raise complaints.<br>
          - Visitors pre-register/check-in, get QR badges.<br>
          - Complaints escalate if not resolved.<br>
          - Maintenance tickets submitted, technicians assigned.<br>
          - All activities logged; reports are generated.<br>
          - Super Admin expands platform with new complexes.
        </p>
      </section>

    </main>
  </div>
</body>
</html>
